% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cate.R
\name{cate}
\alias{cate}
\title{Conditional Average Treatment Effect estimation}
\usage{
cate(
  response_model,
  propensity_model,
  cate_model = ~1,
  contrast = c(1, 0),
  data,
  nfolds = 1,
  rep = 1,
  silent = FALSE,
  stratify = FALSE,
  mc.cores,
  ...
)
}
\arguments{
\item{response_model}{formula or ml_model object (formula => glm)}

\item{propensity_model}{formula or ml_model object (formula => glm)}

\item{cate_model}{formula specifying regression design for conditional
average treatment effects}

\item{contrast}{treatment contrast (default 1 vs 0)}

\item{data}{data.frame}

\item{nfolds}{Number of folds}

\item{rep}{Number of replications of cross-fitting procedure}

\item{silent}{supress all messages and progressbars}

\item{stratify}{If TRUE the response_model will be stratified by treatment}

\item{mc.cores}{mc.cores Optional number of cores. parallel::mcmapply used
instead of future}

\item{...}{additional arguments to future.apply::future_mapply}
}
\value{
cate.targeted object
}
\description{
Conditional Average Treatment Effect estimation via Double Machine Learning
}
\examples{
sim1 <- function(n=1e4,
                 seed=NULL,
                 return_model=FALSE, ...) {
  suppressPackageStartupMessages(require("lava"))
  if (!is.null(seed)) set.seed(seed)
  m <- lava::lvm()
lava::regression(m, ~a) <- function(z1,z2,z3,z4,z5)
         cos(z1)+sin(z1*z2)+z3+z4+z5^2
lava::regression(m, ~u) <- function(a,z1,z2,z3,z4,z5)
        (z1+z2+z3)*a + z1+z2+z3 + a
lava::distribution(m, ~a) <- lava::binomial.lvm()
if (return_model) return(m)
lava::sim(m, n, p=par)
}

d <- sim1(200)
e <- cate(a ~ z1+z2+z3, response=u~., data=d)
e
}
\author{
Klaus KÃ¤hler Holst, Andreas Nordland
}
